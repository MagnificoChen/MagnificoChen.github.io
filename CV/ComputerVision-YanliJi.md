<head>
    <script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async>
</script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            tex2jax: {
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
            inlineMath: [["$", "$"], ["\\(", "\\)"]],
            displayMath: [["$$", "$$"], ["\\[", "\\]"]],
            }
        });
    </script>
</head>

# 计算机视觉

计算机视觉（Computer vision）是一门研究如何使机器“看”的科学，更进一步的说，就是指用摄影机和计算机代替人眼对目标进行识别、跟踪和测量等机器视觉，并进一步做图像处理，用计算机处理成为更适合人眼观察或传送给仪器检测的图像[1]。

作为一门科学学科，计算机视觉研究相关的理论和技术，试图创建能够从图像或者多维数据中获取“信息”的人工智能系统。这里所指的信息指香农定义的，可以用来帮助做一个“决定”的信息。因为感知可以看作是从感官信号中提取信息，所以计算机视觉也可以看作是研究如何使人工系统从图像或多维数据中“感知”的科学。

## 1-A. 介绍

### 什么是数字图像

一个数字图像可以被定义为一个二维函数 $f(x,y)$ 在这里 $x$ 和 $y$是平面坐标，而 $f$ 在某个特定 $(x,y)$ 上点的取值称作这个点的 **灰度** 或 **强度** 。当 $x$ 和 $y$ 都是有限的、离散的数的时候，我们就可以将图像称作数字图像。

像素是数字图像的基本元素。

数字图像：离散样本 $f[x,y]$ 表⽰连续图像 $f(x,y)$。
⼆维数组 $f[x,y]$ 的每个值称为⼀个像素（也就是“图⽚的元素”）

数字图像处理是指利⽤计算机对数字图像进⾏处理。

数字图像处理领域及相关领域：

- 低级处理 (图像处理)：它的输出和输⼊都是图像，⽐如给图像降噪；
- 中级处理 (图像分析)：它的输⼊是图像，输出是属性，⽐如图像分割；
- 高级处理（计算机视觉）：“理解”⼀组已识别的物体，表现出与视觉相关的认知功能；

### 一些图像处理的领域

- 图像采集和显示：正确的光圈和色彩平衡，从投影重建图像，颜⾊映射、伽玛校正、半⾊调
- 图像增强：提高图像质量（⼀个主观性的过程）、 安检时的⾊彩增强
- 图像还原：还原退化的图像，得到原来的场景
- 图像压缩：为了减少存储图像所需的存储空间，或节省传输带宽
- 从图像中提取信息：扫描条形码、字符识别、深度估计
- 图像分割：将图像划分为其组成部分或对象
- 表示和描述：表示指的是将数据转换成计算机可读的类型；描述是指特征选择。
- 识别和分析：根据对象的特征为对象打标签

### 一些图像处理的应用

- 空间领域：航空航天、天体观测、气象观测、卫星探测、遥感图像
- 国防：目标跟踪与识别
- 工业领域：视频监控、机器视觉监测
- 生物医学：医学图像（X 光、CT、磁共振）
- 刑事：指纹识别、虹膜识别
- 多媒体领域：视频会议、数字娱乐（⼴告、影视）

## 1-B 图像基础

### 灰度值

数字图像通常被量化为 $256$ 个灰度级。

心理量是刺激量的对数函数。

感知亮度不是强度的简单函数：视觉系统倾向于在不同强度区域的边界周围 **下冲** 或 **过冲** 。即：光强是阶梯状上升的，但在阶梯处，阶梯的左侧（低亮度一侧）往往人眼感知较弱，高亮度一侧的边界往往让人感觉较亮。

![示例图 1](1.png)

### 图像格式模型

一个简单的图形格式模型是：

$$f(x,y) = i(x,y) \ r(x,y)$$

其中 $i(x,y)$ 和 $r(x,y)$ 指的是入射分量和反射分量。其中 $0 < i(x,y) < \infty, \ 0<r(x,y)<1$

### 图像采样和量化

表示数字图像的方式：矩阵表示和坐标表示。

![](2.png)
![](3.png)

由于处理、存储和采样硬件方面的考虑，灰度等级通常是 2 的整数次方： $L = 2^k$ 。通常，我们假设这些灰度等级是均匀分布的，且是整数，在区间 $[0,L-1]$ 内。

所以，存储一张图片所需的 **比特位** 是：

$$b = M \times N \times k$$

### 空间分辨率与灰度分辨率

这两个是不同的概念：

空间分辨率：图像中最小的可辨别别细节

灰度分辨率：灰度级的最小可辨别的变化

也就是说，对于一个 $L$ 级灰度的，大小为 $M\times N$ 的图像，我们通常认为它的空间分辨率就是 $M\times N$ ，灰度分辨率是 $L$ 。

### 图像采样和量化

为了保证不产生混叠，需要遵循奈奎斯特采样定理：**采样率必须大于被测信号最高频率分量的两倍。**

**插值** 是⼀种基本方法，⼴泛⽤于缩放、缩⼩、旋转和几何校正等任务，可以使用已知数据来估计其他未知位置的像素值。以下是最近邻和双线性插值。

![](4.png)

插值方法：

让 $(x,y)$ 作为新图像的坐标， $v(x,y)$ 作为未知位置的灰度值，那么 $v(x,y)$ 可以这样计算：

- 双线性： $v(x,y) = ax+by+cxy+d$
- 双三次插值：
- $$v(x,y) = \sum_{i=0}^{3}\sum_{i=0}^{3} a_{ij} x^ix^j$$

### 线性和非线性运算

如果 $H$ 是一个计算函数， $f$ 和 $g$ 是两个图像， $a,b$ 是两个常数，如果有

$$H(af+bg) = aH(f)+bH(g)$$

那么我们称 $H$ 是一个线性函数。否则就是非线性的。下面的图片相加就是线性的：

![](5.png)

相似的还有图像的交，积，差等。

**图像匹配**：

假设我们可以⽤双线性模型来描述两幅图像之间的变换关系：

$$x=c_1v+c_2w+c_3vw+c_4$$
$$y = c_5v+c_6w+c_7vw+c_8$$

$(v,w),(x,y)$ 是原始和转换后的图像坐标，那么我们只需要 4 个点就可以求出 $c_1,...,c_8$ 这些变量之间的关系。

### 色彩

RGB 颜色空间：

![](6.png)

HSV 色彩空间：

![](7.png)

显然，亮度所包含的信息更多，所以如果要在亮度和颜色之间选一个，选择抛弃颜色是比较好的选择。

最后，还有一个颜色空间：YCbCr 颜色空间，它便于计算，用于数字电视的压缩会很方便。

![](8.png)

## 2-A 图像增强/滤波

三种滤波的角度：

- 空域：对于频域的滤波是一种在数字组成的网格上的操作。它可以对图像作平滑、锐化等。
- 频域：对频域的滤波是一种对图像频域的调节，如去噪、采样、压缩
- 图像金字塔：尺度空间的表示可以对图像做由粗略到精细的一系列工作。

### 背景

空域图像增强 是直接对图像像素进⾏操作的过程。这个过程可以如下描述：

$$g(x,y) = T[f(x,y)]$$

这里 $f(x,y)$ 是输入的图像， $g(x,y)$ 是经过处理后的图像， $T$ 是在函数 $f$ 上的操作符，它操作 $(x,y)$ 这个点周围的一些点，即对邻域进行运算。

![](9.png)

![](10.png)

对于一个卷积掩膜， $T$ 的操作覆盖了一片 $N\times N$ 的区域。如：

![](11.png)

### 一些基础的灰度转换

#### 颜色翻转

![](12.png)

#### 对数转换

对数转换的一般形式是：
$$s = clog(1+r)$$

这里 $c$ 是一个常量，同时我们约定了 $r>0$ 。

对数变换实现了图像灰度扩展和压缩的功能。可以从对数曲线看出，它扩展低灰度值而压缩高灰度值。从图中我们可以很直观的看出，由于对数本身上凸的性质，它可以把低灰度（较暗）部分的亮度提高，即图像越来越亮。

![](13.png)

#### 幂次变换

幂次转换的一般形式是：
$$s=cr^\gamma$$

这里 $c$ 和 $\gamma$ 是正数。

![](14.png)

**例子：伽马校正**

![](15.png)

如果我们需要精确的在计算机屏幕上显示图像，则伽玛校正就显得非常重要。没有正确校正的图像看起来要么被漂白了，要么可能太暗了。伽马校正不仅改变敏感度，也改变红绿蓝三种颜色的 **比例** 。

**例子：对比度调节**

![](16.png)

对比度拉伸：分段线性转换函数

![](17.png)
